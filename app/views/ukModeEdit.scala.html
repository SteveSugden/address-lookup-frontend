@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import model._
@import uk.gov.hmrc.play.views.html.helpers
@import views.html.helpers.{alfErrorSummary, alfInput}

@import config.FrontendAppConfig
@(appConfig: FrontendAppConfig, id: String, journeyData: JourneyData, editForm: Form[Edit], countries: Seq[(String, String)])(implicit request: Request[_], messages: Messages)

@titleWithError = @{
  if(editForm.errors) {
    "Error: " + journeyData.resolvedConfig.editPage.title
  } else {
    journeyData.resolvedConfig.editPage.title
  }
}

@main_template(appConfig = appConfig, title = titleWithError, journeyData = Some(journeyData)) {
<div id="ukEdit"></div>
  @if(journeyData.config.showBackButtons.getOrElse(true)) {
    <div>
      <a class="back-link" href="javascript:history.back()">@messages("common.back.text")</a>
    </div>
  }

  @alfErrorSummary(
    messages("common.error.text"), editForm
  )

  <h1 class="form-title heading-large" id="pageHeading">@{journeyData.resolvedConfig.editPage.heading}</h1>
  @uk.gov.hmrc.play.views.html.helpers.form(routes.AddressLookupController.handleEdit(id, true)) {
    <fieldset class="form-field-group">
      <div class="form-field spaced-below">
        @alfInput(
          editForm("line1"),
          '_label -> journeyData.resolvedConfig.editPage.line1Label,
          '_inputClass -> "form-control--block input--medium")
      </div>
      <div class="form-field spaced-below">
        @alfInput(
          editForm("line2"),
          '_label -> journeyData.resolvedConfig.editPage.line2Label,
          '_inputClass -> "form-control--block input--medium"
        )
      </div>
      <div class="form-field spaced-below">
        @alfInput(
        editForm("line3"),
        '_label -> journeyData.resolvedConfig.editPage.line3Label,
        '_inputClass -> "form-control--block input--medium"
        )
      </div>
      <div class="form-field spaced-below">
        @alfInput(
          editForm("town"),
          '_label -> journeyData.resolvedConfig.editPage.townLabel,
          '_inputClass -> "form-control--block input--medium"
        )
      </div>
      <div class="form-field spaced-below">
        @alfInput(
        editForm("postcode"),
        '_label -> journeyData.resolvedConfig.editPage.postcodeLabel,
        '_inputClass -> "form-control--block input--small"
        )
      </div>
      <div class="form-field">
        <button class="button" type="submit" id="continue">@{journeyData.resolvedConfig.editPage.submitLabel}</button>
      </div>
    </fieldset>
  }
}